<style>
    body {
        margin: 0;
        padding: 0;
      
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
        background-color: #ffffff;
        color: #030303;
        font-size: 10pt;
        line-height: 8pt;
        letter-spacing: 1px;
        background-color: #ffffff;
    
    }
    
    canvas {
      display: block;
        
    }
    
    </style>
    
    <body>
      <h1>
        test
      </h1>
      <button id="modeChanger">switch mode</button>
    </body>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/netizenorg/netnet-standard-library/build/nn.min.js"></script>
    <script src="https://tonejs.github.io/build/Tone.js"></script>
    
    <!-- functions -->
    <script>
    // const ascii = "#&%@!+*-"
    // const ascii = ["some", "words", "to", "try"]
    // const ascii = "A"
    let isDarkMode = false;

    const ascii = ['A', 'B', 'C', 'D', 'E', 'F', 'G']
      
    function setup() {
      createCanvas(720,450);
      video = createCapture(VIDEO);
      video.size(72,45);
      video.hide();
    }
    
    let notes = Array(72).fill('A');

    function draw() {
      if (isDarkMode) {
        background(0); // Dark background
        color = 'white';
      } else {
        background(255); // Light background
        color = 'black';
      }
      
      let w = width / video.width;
      let h = width / video.height;
      video.loadPixels();

      let j;
      let i;
      for (j = 0; j < video.height; j++) {
        for (i = 0; i < video.width; i++) {
          const pixelIndex = (video.width -i + 1 + (j * video.width)) * 4;
          const r = video.pixels[pixelIndex + 0];
          const g = video.pixels[pixelIndex + 1];
          const b = video.pixels[pixelIndex + 2];
          const avg = (r + g + b) / 3;
          
          fill(avg);
    
          const len = ascii.length;
          const charIndex = floor(map(avg, 0, 255, 0, len));
          
          textAlign(CENTER,CENTER);
        
          if (j == 15) {
            color = 'red'
          } else {
            color = 'black'
          }

          fill(color);
        //   let symbol = ascii.charAt(charIndex)
            let symbol = ascii[charIndex]
          text(symbol, i * w + w * 0.5, j * h + h * 0.5);

          if (j == 15) {
            notes[i] = symbol
          }
        }
      }
    //   console.log(notes)
    }

    function play () {
        
    }
      
    nn.get('#modeChanger').on('click', changeMode)
    console.log(isDarkMode)
      
    function changeMode() {
        isDarkMode = !isDarkMode;
        if (isDarkMode) {
            document.getElementsByTagName("body")[0].style.backgroundColor = "#000000"
        } else {
            document.getElementsByTagName("body")[0].style.backgroundColor = "#ffffff"
        }
    }
    
    </script>